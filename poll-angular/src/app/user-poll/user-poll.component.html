<div class="header mb-3">
    <b>Your poll</b>
</div>
<div class="body">
    <div *ngIf="pollData.length > 0; else elseBlock">
        <div *ngFor="let poll of pollData">
            <div tabindex="0" class="collapse collapse-arrow bg-base-200 mb-3">
                <input type="radio" name="my-accordion-2" checked="checked" />
                <div class="collapse-title text-xl font-medium text-accent">
                    {{ poll.title }}
                </div>
                <div class="collapse-content">
                    <b>Choice</b>
                    <ul *ngFor="let choice of poll.choices" class="list-disc ps-5">
                        <li>{{ choice.title }}</li>
                    </ul>
                    <div class="mb-2">
                        <div>
                            <span><b>By</b> {{ poll.user.username }}</span>
                        </div>
                        <div>
                            <span><b>At</b>
                                {{
                                dateTimeConvert(poll.dateTimeCreated)
                                | date : "dd/MM/yyyy HH:mm"
                                }}</span>
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <div>
                            <button class="btn btn-outline btn-accent" [routerLink]="['/pollDetail', poll.id]">
                                Detail
                            </button>
                        </div>
                        <div>
                            <button class="btn btn-ghost text-error" (click)="onDeletePoll(poll.id)">
                                Delete
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <ng-template #elseBlock>
        <span>There's no poll, create your own poll!</span>
    </ng-template>
</div>